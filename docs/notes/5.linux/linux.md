# 目录
- [Linux 基础知识](#linux-基础知识)
    - [1.Linux 目录](#1linux-目录)
    - [2.Linux 命令](#2linux-命令)
        - [常用的一些 Linux 命令](#常用的一些-linux-命令)
            - [ls](#ls)
            - [cd](#cd)
            - [touch](#touch)
            - [pwd](#pwd)
            - [clear](#clear)
        - [一、文件类命令](#一文件类命令)
            - [more](#more)
            - [cat](#cat)
            - [grep](#grep)
            - [find](#find)
            - [mkdir](#mkdir)
            - [tree](#tree)
            - [rmdir](#rmdir)
            - [rm](#rm)
            - [ln](#ln)
            - [cp](#cp)
            - [mv](#mv)
            - [tar](#tar)
            - [gzip](#gzip)
            - [zip、unzip](#zipunzip)
        - [二、用户（权限）管理类命令](#二用户权限管理类命令)
            - [ssh](#ssh)
            - [whoami](#whoami)
            - [who](#who)
            - [exit](#exit)
            - [useradd、adduser](#useraddadduser)
            - [passwd](#passwd)
            - [su](#su)
            - [sudo](#sudo)
            - [sudo -s](#sudo--s)
            - [userdel](#userdel)
            - [groupadd](#groupadd)
            - [groups](#groups)
            - [groupdel](#groupdel)
            - [usermod](#usermod)
            - [为创建的普通用户添加 sudo 权限](#为创建的普通用户添加-sudo-权限)
            - [chmod](#chmod)
            - [chown](#chown)
            - [chgrp](#chgrp)
        - [三、系统管理类命令](#三系统管理类命令)
            - [cal](#cal)
            - [ps](#ps)
            - [top](#top)
            - [kill](#kill)
            - [reboot、shutdown、init](#rebootshutdowninit)
            - [df](#df)
            - [du](#du)
        - [四、其他命令](#四其他命令)
            - [history](#history)
            - [>](#>0)
            - [<](#-1)
            - [|](#-2)
            - [ifconfig](#ifconfig)
            - [sftp](#sftp)
    - [3.vim](#3vim)
        - [从命令模式进入编辑模式](#从命令模式进入编辑模式)
        - [从编辑模式进入命令模式](#从编辑模式进入命令模式)
        - [从命令模式到末行模式](#从命令模式到末行模式)
        - [末行模式下的一些命令](#末行模式下的一些命令)
        - [替换命令](#替换命令)
        - [命令模式下的一些命令](#命令模式下的一些命令)
        - [移动光标](#移动光标)
        - [复制粘贴相关操作](#复制粘贴相关操作)
        - [删除操作](#删除操作)
        - [查找命令](#查找命令)
        - [文本行移动](#文本行移动)
        - [可视模式](#可视模式)
        - [替换模式](#替换模式)
        - [重复命令](#重复命令)

---

# Linux 基础知识

## 1.Linux 目录

在 Linux 当中没有盘符这个概念，只有一个根目录**/**，所有的文件都在它下面：

![Linux盘符结构树](/assets/images/linux/1.gif)

- /home：系统默认的用户家目录，用户所操作的文件都在这个目录下
- /home/用户名：用户主目录
- /bin，/usr/bin：可执行二进制文件的目录
- /der：存放Linux系统下的设备文件
- /usr：应用程序存放目录
- /tmp：一般用户或正在执行的程序临时存放文件的目录

因为 Linux 当中独特的目录结构，因此在 Linux 当中去访问一个文件夹的时候便有两种不同的方式：

- 绝对目录：从根目录下开始在找，例如：/home/wx/project/linux
- 相对目录：从当前目录下开始找，例如在wx用户目录下：/project/linux

以上的两种路径查找方式都是可以的。

在linux的目录结构中，不仅可以有向下查找的，还有向上级目录查找的：

- **..**：上级目录
- **.**：当前目录

例如超找当前目录的上级目录的再上一级目录：

../..

## 2.Linux 命令

Linux 中最重要的内容便是Linux命令，想要掌握好 linux 的话必须熟记一些常用的 Linux 命令。

Linux 命令的基本格式为：

**command [-options] [parameter]**

- command：命令名称
- options：命令所支持的选项，选项可以一起使用
- parameter：执行命令时传递的参数

查看Linux命令的方法：

1. --help

一般常见的Linux命令都自带了帮助信息，只需要在命令的后面加入 --help即可以查看

2. man

man是 Linux 中提供的一个手册，包含绝大部分的命令，函数使用说明

### 常用的一些 Linux 命令

#### ls

ls 是显示当前路径下的文件以及文件夹的名称的命令

选项：

- -a：显示隐藏文件
- -l：显示文件的大小
- -h：以列表的形式显示

#### cd

cd 是进入 Linux 中目录的命令

- cd ~：进入当前用户的主目录
- cd -：进入上次所在的目录
- cd .：进入当前目录
- cd ..：进入当前路径的上一级路径

#### touch

touch 是 linux 当中用来创建文件的命令

#### pwd

pwd 是显示当前用户所在路径的绝对路径

#### clear

clear 是用来清除当前终端上的显示内容

### 一、文件类命令

#### more

more 是 Linux 终端在显示大文件时可以一页一页的按页来显示，每次用空格键来显示下一页

#### cat

cat 查看文件内容

**cat和more的区别？**

- cat ：查看文件时不分屏显示
- more：查看较大文件时会分屏显示

#### grep

grep 是Linux 当中进行文本搜索的命令

grep -选项 '正则表达式' 文件名

常见选项：

- -v：显示不包含文本的所有行（求反）
- -n：显示匹配的行及行号
- -i：忽略大小写

#### find

find 用来在特定的目录下搜索符合条件的文件或者用来搜索特定用户属性的文件

find 路径 -选项 参数

常见的选项：

- -name：用来查询指定路径下名称为参数的文件，参数支持正则表达式
- -size：用来查询指定路径下文件大小为参数的文件，参数是文件大小，可以加+或-，表示大于或小于文件大小的文件
- -perm：用来查询指定路径下文件权限为参数的文件或目录

**find 和 grep的区别？**

- find：查找的是文件名称
- grep：查找的是文件内容

#### mkdir

mkdir 用来创建新的目录

- -p：递归的创建目录

#### tree

tree 以目录树的形式显示当前文件

#### rmdir

rmdir 用来删除文件夹

#### rm

rm 用来删除 linux 当中的文件或文件夹。**小心使用，删除不可恢复**

- -i：以交互式的方式执行删除任务
- -f：强制性执行删除操作
- -r：递归的执行删除任务，删除文件夹的使用执行

**rm -rf /** 慎用

#### ln

ln 创建链接文件，类似于 windows 当中的快捷方式。创建的链接包含硬链接和软链接

- 硬链接：硬链接只能链接普通文件，不能链接目录。对当前文件创建新的一份文件，源文件删除，硬链接不会失效
- 软链接：软链接不占用磁盘空间，源文件删除软链接失效

使用方式：

- ls 源文件 链接文件：创建软链接
- ls -s 源文件 链接文件：创建硬链接

**新建空白文件夹的硬链接数为2，因为文件夹中有 .,..这两个文件夹**

#### cp

cp 复制文件

常用选项：

- -a：保留原文件的所有属性进行复制
- -f：强制复制，需要覆盖文件时不提示确认
- -i：交互式复制，需要覆盖文件时提示确认
- -r：递归的复制文件夹下的所有文件
- -v：显示复制的进度

#### mv

mv 移动文件，也可以给文件重命名

常用选项：

- -f：强制移动，需要覆盖时不提示确认
- -i：交互式移动文件，需要覆盖时提示确认
- -v：显示移动的进度

#### tar

tar 打包文件夹或文件

tar -选项 打包文件夹名 文件夹

常见选项：

- -c：生成档案文件，创建打包文件
- -v：列出归档解档的详细过程，显示进度
- -f：指定档案文件的名称
- -t：列出档案中所包含的文件
- -x：解开档案文件

以上命令组合便可以形成固定的打包和解包命令：

- 打包： tar -cvf 包名 文件
- 解包： tar -xvf 包名

### gzip

gzip 压缩文件

gzip -选项 被压缩文件

常见选项：

- -d：解压
- -r：压缩

在 Linux 中，tar只是打包文件，gzip只是压缩文件。一帮情况下我们都是打包和压缩文件一起进行，这样就得使用 tar 和 gzip 一起进行使用：

- 打包并压缩文件：tar -czvf 包名 文件
- 解压缩文件：tar -xzvf 包名

上述打包的文件包名为：tar.gz

#### zip、unzip

zip 和 unzip 是将文件压缩为 zip 格式的文件

- 压缩文件：zip -r 目标文件（没有扩展名） 源文件
- 解压文件：unzip -d 解压后的目标文件 压缩文件

### 二、用户（权限）管理类命令

用户是 Linux 系统中非常重要的部分，用户管理包括用户和组账号的管理，通常这部分都是由 root 用户来进行操作的。

linux 系统是**多用户、多任务**的操作系统。

#### ssh

ssh 用户名@主机IP

ssh 是用来远程登陆 Linux 系统的。

#### whoami

whoami 用来查看当前登陆系统的用户名

#### who

who 可以查看当前登陆系统的所有用户的信息

常用选项：

- -m：只显示运行who命令的用户名、登陆终端和登陆时间
- -q：只显示用户的登陆账户和登陆用户的数量
- -u：显示列标题

#### exit

exit 用来断开和 Linux 远程主机的连接

- 如果是图形界面，则退出当前终端
- 如果是使用 ssh 远程登陆，则退出登陆账号
- 如果是切换后的登陆用户，退出则返回上一个登陆账号

#### useradd、adduser

在 linux/unix 系统中添加一个用户账号可以使用 adduser 或者 useradd 命令。因为 adduser 命令是指向 useradd 命令的一个链接，因此这两个命令使用的格式是完全一样的。

useradd 命令的使用格式如下：

useradd -选项 新建用户账号名

常用选项：

- -d：指定用户登陆系统时的主目录，如果不使用该选项，系统会自动在 /home 目录下建立一个与用户名同名目录来作为主目录
- -m：自动建立用户目录
- -g：指定组名称

#### passwd

passwd 是 root 用户用来给普通用户设置或修改用户密码。当然普通用户也可以使用该命令来修改自己的密码，这样后面就无需自己的用户名

passwd 使用命令格式：

passwd 用户名

#### su

su 命令是进行切换用户的，有两种使用方式：

- su 用户名：切换到该用户
- su - 用户名：切换到用户的时候自动进入该用户的主目录下

#### sudo

sudo 以 root 权限来执行命令

#### sudo -s

sudo -s 切换到 root 用户

#### userdel

userdel 用来删除指定的用户

使用格式：

userdel -选项 用户名

常用选项：

- -r：删除用户的同时删除用户的主目录

#### groupadd

groupadd 新建用户组账号

使用格式：

gruopadd 用户组名

查看当前系统中有哪些用户组：

cat /etc/group

#### groups

groups 查看用户在哪些组中

使用方式：

groups 用户名

#### groupdel

groupdel 删除用户组

使用格式：

groupdel 用户组名

#### usermod

usermod 修改用户所在组

使用格式：

usermod -选项 用户组 用户名

常用选项：

- -g：修改用户的组
- -a -G：将用户添加到其他组中去

#### 为创建的普通用户添加 sudo 权限

新创建的用户，默认是不能使用 sudo 的，需要进行设置：

**sudo usermod -a -G adm 用户名**
**sudo usermod -a -G sudo 用户名**

其实上述操作就是将一个普通用户加入到了 管理员 组和 sudo 组中去。

**usermod -g 和 -G 的区别？**

- -g：用来指定这个用户默认的用户组
- -G：一般配合 -a 来完成用户的添加组操作

#### chmod

chmod 用来修改文件权限，主要有两种操作方法：数字法和字母法

字母法：**chmod u/g/o/a +/-/= r/w/x 文件名/文件夹**

- 修改权限对象
    - u：user，表示当前文件的所有者
    - g：group，表示当前文件的所有者属于的组
    - o：other，表示除该文件的所有者之外的其他人
    - a：all，表示所有的用户
- 权限设置
    - +：增加权限
    - -：撤销权限
    - =：指定权限
- 权限类型
    - r：read，表示可读取，对于一个目录如果没有r权限，则该目录不能通过ls来查看
    - w：write，表示可以写入，对于一个目录如果没有w权限，则该目录不能创建新的文件
    - x：execute，表示可以执行，对于一个目录如果没有x权限，则该目录不能cd进入

数字法：**chmod 数字 文件/文件夹**

数字总共有三位，分别表示 ：

- 第一位数字：u，user，表示当前文件的所有者
- 第二位数字：g，group，表示当前文件的所有者属于的组
- 第三位数字：o，other，表示除该文件的所有者之外的其他人

这三个数字都有便可以表示所有的用户。

每位数字是有4 2 1三个数字相加而来，每个数字所代表的权限表示：

- r：4
- w：2
- x：1

一些常见的数字所表示的意义：

- 777：rwx-rwx-rwx：所有用户授予读写执行所有的权限
- 666：rw-rw-rw：所有的用户赋予读写的权限
- 444：r-r-r：所有的用户赋予读的权限

**chmod 数字 文件夹 只会修改文件夹的权限，chmod 数字 文件夹 -R 才会递归的将文件夹下所有的文件的权限都修改了**

#### chown

chown 用来修改文件的所有者

使用格式：

chown 用户名 文件名/文件夹

#### chgrp

chgrp 修改文件的所属组

使用格式：

chgrp 用户组 文件名/文件夹

### 三、系统管理类命令

#### cal

cal 命令用于查看当前的日历

- -y：显示整年的日历

#### ps

ps 查看系统进程信息

进程是一个具有一定独立功能的程序，他是操作系统动态执行的基本单元。ps 可以查看系统进程的详细信息，常用的选项如下：

- -a：显示终端上的所有进程
- -u：显示进程的详细信息
- -x：显示没有控制终端的进程
- -w：显示加宽以便显示更多的信息
- -r：只显示正在运行的进程

**ps -aux 显示当前所有进程的详细信息**

#### top

top 可以动态的显示运行中的进程。

top 命令能在运行后，在指定的时间间隔内更新显示信息。

- -d：指定显示信息更新的时间间隔

在 top 命令执行后，可以按下相应的按键来对显示结果进行排序：

- M：根据内存的使用量来排序
- p：根据cpu的占有率来排序
- T：根据进程运行时间长短来排序
- U：后面跟用户，筛选出指定的进程
- k：后面跟进程号，杀死进程
- q：退出
- h：获得帮助

#### kill

kill 命令可以杀死指定的进程号的进程

使用格式：

kill -signal pid

- -signal：信号值，从0到15，其中9为绝对终止，可以处理一般信息无法终止的进程
- pid：进程号

#### reboot、shutdown、init

- reboot：关机重启
- shutdown -r now：重新启动操作系统，shutdown会给别的用户提示
- shutdown -h now：立刻关机
- shutdown -h 时间：在指定的时间内关机
- shutdown -h +数字：在指定的数字分组之后关机
- init 0：关机
- init 6:重启

#### df

df 检测文件系统的磁盘占用和空余情况，可以显示所有文件系统对节点和磁盘快的使用情况

常用选项：

- -a：显示所有文件系统的磁盘使用情况
- -m：以1024字节为单位显示
- -t：显示各指定文件系统的磁盘空间使用情况
- -T：显示文件系统

#### du

du 统计目录或文件所占磁盘空间的大小

常用选项：

- -a：递归显示指定目录中个文件和子目录文件所占的数据块
- -s：显示指定文件或目录占用的数据块
- -b：以字节为单位显示磁盘占用情况
- -l：计算所有文件大小，对硬链接文件计算多次

### 四、其他命令

#### history

history 用来查看当前终端所执行过的所有历史命令

#### >

“>” 是输出重定向输出命令

Linux 允许将命令执行结果重定向到一个文件中，这样本应该在终端中显示的内容可以被保存到文件中去。

#### <

“<” 是输出重定向输入命令

Linux 允许将右端输出的内容重定向输入到左边中去。

#### |

| 是管道命令

管道命令可以将一个命令的输出内容通过管道来作为另一个命令的输入。“|”的左右分为两端，左端读右端写

#### ifconfig

ifconfig 用来查看当前系统的网卡的配置信息

#### sftp

sftp 用来向远程主机进行文件的收发操作

使用格式：

sftp user@host_ip

在使用 sftp 连接上远程主机之后便可以对远程主机进行简单的操作：

- cd 目录名：进入到远程主机中的指定目录
- ls：列出当前远程主机下的文件信息
- lls：列出当前自己本机文件夹下的文件信息
- put filename：将文件发送到远程主机
- get filename：将远程主机的文件下载到本地

## 3.vim

vim 是 vi 的升级版本，它不仅兼容vi的所有指令，还有新增了一些新的特性。

```shell
vi filename
vim filename
// 两者同样的功能，能少敲一个字母，所以我们就用vi吧

vi filename +行号 //打开文件并跳转到指定行
```

vi 有三种基本的工作模式：

- 命令模式
- 文本输入模式
- 末行模式

![vim基本模式](/assets/images/linux/2.bmp)

vim的一些基本使用命令如下：

### 从命令模式进入编辑模式

- i：在光标前插入
- a：在光标后插入
- o：在光标下一行插入
- I：在光标当前行行首插入
- A：在光标当前行行尾插入
- O：在光标上一行插入

### 从编辑模式进入命令模式

按 Esc 键

### 从命令模式到末行模式

输入 “:”

### 末行模式下的一些命令

- w：保存
- q：退出
- wq：保存退出
- x：保存退出
- q！：不保存直接退出

#### 替换命令

在末行模式下可以实现对文本内容全文指定内容的一个替换操作

- :开始行号,结束行号s/所需替换字符/替换字符/g

eg：将文章中从第一行到第十行的abc换为123

:1,10s/abc/123/g

### 命令模式下的一些命令

#### 移动光标

- h：左移
- j：下移
- k：上移
- l：右移
- M：光标移动到中间行
- L：光标移动到屏幕最后一行行首
- G：光标移动到指定行，eg：15G：跳转到第15行
- w：向后移动一个字
- b：向前移动一个字
- {：按段上移
- }：按段下移
- control+d：向下翻半屏
- control+u：向上翻半屏
- control+f：向下翻一屏
- control+b：向上翻一屏
- G：跳转到最后一行，不加行号
- gg：跳到行首

#### 复制粘贴相关操作

- 行数 yy：表示从当前行开始复制指定行数的内容，不指定行数表示复制当前行
- 行数 dd：表示从当前行开始剪切指定行数的内容，不指定行数表示剪切当前行
- p：将复制或剪切的内容粘贴到当前行
- u：对粘贴的内容执行撤销操作
- control+r：对撤销的内容执行反撤销

#### 删除操作

- x：删除光标后一个字符
- X：删除光标前一个字符
- 行数 dd：删除光标所在行开始之后的行，不指定则删除光标行
- do：删除光标前本行所在内容，不包含光标所在字符
- dw：删除光标开始位置的字符，包含光标所在的字符
- D：删除光标后本行所有内容，包含光标所在字符

#### 查找命令

- / 字符串：在文本中查找该字符串
- n：所匹配内容的下一个
- N：所匹配内容的上一个

#### 文本行移动

- \>>：文本行右移
- <<：文本行左移

#### 可视模式

- v：按字符移动，选中文本
- V：按行移动，选中文本

在可视模式中可以配合 d、y、>>、<< 等命令实现对文本块的删除、复制、右移、左移

#### 替换模式

- r：替换当前字符
- R：替换当前字符光标之后的内容

#### 重复命令

- .：重复上一次操作的命令

