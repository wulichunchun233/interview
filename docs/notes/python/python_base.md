# python 语法总结

## 基础部分

### 一、输入输出

- input：从键盘中获取数据（默认格式为字符串）
- print：输出，打印字符串或变量的值

print 中支持使用占位符来表示所要输出的变量信息：

- %d：整数
- %s：字符串

eg：

```python
print('name is :%s,age is :%d'%(name,age))
```

**python2 和 python3 中 input 输入有和不同？**

- python2中input输入的是命令（变量），使用 raw_input 便与python3相同
- python3中input输入的是字符串

**python中换行打印和不换行打印**

```python
print("不换行打印",end="")
print("换行打印")
```

### 二、变量

python 中所支持的变量：

- Numbers：数字
    - int：有符号整形
    - long：长整形
    - float：浮点数
    - complex：复数
- 布尔类型
    - True
    - False
- String：字符串
- List：列表
- Tuple：元祖
- Dictionary：字典

使用**type(变量名)**来查看变量的类型。

不同变量之间的相互转化：

- int()：将字符串变为 int 型
- str()：将对象变为字符串类型

**数字、元祖、字符串是 python 中的不可变类型。**

### 三、运算符

python除了支持一些基本的加减乘除运算符之外，还支持一些特殊的运算符：

- //：取商
- %：取余
- **：求幂，2\*\*3=8

下面是一些逻辑运算符：

- and：逻辑与
- or：逻辑或
- not：逻辑非

**程序的三大执行流程为？**

- 顺序执行
- 选择执行
- 循环执行

**python中没有 do-while、switch、++、--这些操作**

**break 和 continue 的区别？**

break 和 continue 都是在循环中使用的跳出命令，不同点在于：

- break：跳出所有的循环
- continue：跳出此次循环，进入下一次循环

**python中独特的for循环**

```python
for 条件：
    执行语句
else：
    执行语句

# else 中的执行语句会在for循环执行完之后再去执行
# 但是假如在 for 循环中使用了 break 语句那么 else 中的语句便不再执行
```

### 四、字符串

#### 字符串下标操作

在 python 中列表与元祖都支持使用下标进行索引，而字符串其实是字符的数组。因此，字符串也支持使用下标进行操作

- python支持反向角标

在 python 中不仅支持像其他语言那样的从0开始遍历，而且还支持从后往前进行遍历。即-1表示最后一个元素，-2表示倒数第二个元素

- 字符串切片

python 字符串最便捷的一个操作便是**字符串切片**，可以支持从原来的字符串中获取中一段字符串

格式：切片后的字符串 = 字符串[开始角标:结束角标+1:步长]

注意，切片角标包含头不包含尾。

```python
# 获取从开始角标3之后的所有字符
s = s[3:]
# 获取从3到20之间间隔一个字符的字符串
s = s[3:21:2]
```

**python中实现字符串逆序**

逆序后的字符串 = 字符串[::-1]

#### 字符串常见操作

**find 和 index 的区别？**

find 和 index 都是查找一个字符串是否在另一个字符串中，存在的话都是返回该字符串所在愿字符串中的开始角标。不同点在于：

- find 在没有找到的情况下返回的是 -1
- index 在没有找到的情况下返回异常

由于字符串是不可变类型，对字符串的操作之后返回操作后的结果，不会对原字符串发生改变。

**partition 和 split的区别？**

partition 和 split 都是按照某个字符对字符串进行切分操作。所不同点在于：

- partition 只是将符合要求的第一个字符进行分割，分为该字符前、字符、该字符后。并且返回的类型是元祖
- split 是将所有符合分割要求的字符都进行分割。返回的类型是列表

字符串拼接的几种方式

- +，"---"+"-"
- %s，"---%s"%(变量)

### 五、列表，字典，元祖

列表、字典、元祖属于 python 中的高级数据结构，其中都具有基本的增删改查的功能。

#### 1.列表中 append 和extend 的区别？

- extend：是用来合并两个列表的。a.extend(b)，将列表 b 中的内容合并到列表 a 中去。注意，extend 必须传入的是列表类型。
- append：往列表中添加内容。

两者的区别：

- append 会将传入的内容作为一个整体添加到列表中
- extend 则会将传入的列表中的内容取出来在加入到列表中去

#### 2.列表和元祖

- 列表：[]
- 元祖：()

注意：**元祖是不可变类型，没有增删改操作，只能查找和遍历。**

#### 3.字典中可以作为 key 的类型？

- 可以作为 key 的类型：数字、字符串、元祖
- 不可以作为 key 的类型：列表、字典

原因：字典在存储数据的时候会现将 key 进行 hash 算法加密，加密的结果为内存地址，在将对应的 value 存储到该内存地址中去。而 hash 加密操作只可以应用到不可变类型中。

### 六、函数

#### 1.return

- python 中的 return 可以返回多个值，这时会讲返回值封装为元祖进行返回。
- 也可以使用多个变量来接收返回的多个值。

#### 2.全局变量和局部变量

- 函数在使用一个变量的时候先在本函数内寻找局部变量，没有的话再去寻找全局变量。
- 假如定义了全局变量，想在函数中进行修改的话直接修改的话修改的是局部变量，只不过该局部变量与全局变量同名。想要修改得加上 **global** 来修饰全局变量。
- 只查看全局变量中的值的话不需要加 global ，只有修改的时候才需要
- 列表、字典不需要加 global 便可以直接修改
- 定义全局变量命名是建议使用：g_变量名

#### 3.一个\*两个\*

python 中经常可以看到 \* 的应用。总结如下：

- 在 python 中 \* 默认表示乘法功能
- 在行参中表示传入不定长变量，\*args 将传入的多个实参变量变为元祖，\*\*kwargs 将传入的带变量名的实参保存为字典
- 在实参中表示自动拆包

```python
# 默认乘法
c = a * b

# 行参表示传入不定长参数：
"""
*args：将传入的多个实参变量变为元祖
**kwargs：将传入的带变量名的实参保存为字典
"""
def test(a, b, c, *args, **kwargs):
    print(a)
    print(b)
    print(c)
    print(args)
    print(kwargs)

test(11, 22, 33, 44, 55, 66, task = 77, done = 88)
"""
执行结果:
11
22
33
(44, 55, 66)
{'task' = 77, 'done' = 88}
"""

# 实参表示自动拆包
A = (44, 55, 66)
B = {'task' = 77, 'done' = 88}

test(11, 22, 33, A, B)
"""
执行结果:
11
22
33
((44, 55, 66), {'task' = 77, 'done' = 88})
{}
"""

test(11, 22, 33, *A, **B)
"""
执行结果:
11
22
33
(44, 55, 66)
{'task' = 77, 'done' = 88}
"""
```
### 七、引用

在 python 中任何的 “=” 都是引用。即当一个变量引用另一个变量时，并不是将另一个变量的值复制一份给了该变量而是将变量指向的值的地址给了该变量。

例如：

```python
a = 100
b = a
```

![图片](/assets/images/python/1.png)

### 八、匿名函数

python 支持使用 lambda 来声明一个小型的匿名函数。格式为：

```python
lambda arg1[, arg2,...]:expression

# 实现两个数字之和
sum = lambda a, b: a + b
```

### 九、动态语言

#### 1.动态语言和静态语言的区别？

- 静态语言在编译时就已经确定了所要执行的功能
- 动态语言只有在运行的时候才能确定所要执行的功能

#### 2.python3将执行字符串命令

- eval(命令):将字符串格式的命令转换为可执行命令

#### 3.交换两个变量的方法

1. 第三方变量法
2. 加减法

```python
a = 10
b = 20
a = a + b
b = a - b
a = a - b
```
3. 异或法

```python
a = 10
b = 20
a = a ^ b
b = a ^ b
a = a ^ b
```
4.python独有

```python
a, b = b, a
```

#### 4. +=与= +

a += a 与 a = a + a 并不等价

- a += a 是对 a 所指向的值进行修改
- a = a + a 是将a的值相加之后放入到一个新的位置上，并将新值的引用传递给 a